import{u as G}from"./main-DzzzQzmN.js";import{d as O,e as f,g as z,h as N,c as a,i as T,a as c,t as m,F as v,f as k,u as w,n as L,j,p as K,b as U,o}from"./index-wNODP0pu.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q=_=>(K("data-v-18197ee8"),_=_(),U(),_),A=q(()=>c("div",{class:"creation-headliner"},[c("h1",{class:"creation-headline"},"Ich hab's richtig, aber ich hab's falsch"),c("hr",{class:"rounded-creation-underliner"})],-1)),H={key:0,class:"winner-msg-wrapper"},J={class:"game-board-holder"},Q={class:"category-table-wrapper"},R=["onClick"],X={class:"candidate-holder"},Y=["onClick"],Z={class:"candidate-points"},ee=O({__name:"StartedLobbyView",setup(_){const g=G(),p=g.getCreatedCandidateList(),D=f(0),b=f(0),S=g.getExtractedMaxPoints()||5,y=g.getExtractedGameCategories(),P=f(0),B=[100,200,300,400,500],C=f(""),E=f(!1);let i=null,r=null,n=null,h=!1;const d=f(0);function I(){p?.forEach(e=>{D.value++}),y?.forEach(e=>{b.value++}),P.value=S*b.value}z(()=>{I(),document.addEventListener("keydown",x)}),N(()=>{document.removeEventListener("keydown",x)});function x(e){e.code==="Enter"?$():e.code==="Space"&&h&&n&&i?i.score+=n:e.code==="Backspace"&&h&&n&&i&&(i.score-=n)}function M(e,s){e.finisheds&&e.finisheds.includes(s)||(r=e,n=s,d.value=Date.now())}function V(e){i=e,d.value=Date.now()}function $(){if(!(!i||!r||!n)){if(h){if(C.value="",y?.filter(s=>s.finisheds?.length===S)?.length===b.value){const s=p?.reduce((t,l)=>t.score>l.score?t:l);C.value=`Gewonnen hat ${s?.name} mit ${s?.score} Punkten!`,E.value=!0}h=!1,n=null,r=null,i=null,d.value=Date.now();return}r.finisheds=r.finisheds||[],r.finisheds.push(n),h=!0,d.value=Date.now()}}function F(e,s){return!r||!n?!1:r===e&&n===s}return(e,s)=>(o(),a(v,null,[A,E.value?(o(),a("div",H,[c("p",null,m(C.value),1)])):T("",!0),c("div",J,[(o(!0),a(v,null,k(w(y),(t,l)=>(o(),a("div",Q,[(o(),a("article",{class:"category-table",key:l},m(t.name),1)),(o(),a(v,null,k(B,u=>c("article",{class:j(["point-table",{selected:F(t,u)}]),key:l+"-"+u+d.value,onClick:te=>M(t,u),style:L({opacity:t.finisheds&&t.finisheds.includes(u)?.5:1})},m(u),15,R)),64))]))),256))]),c("div",X,[(o(!0),a(v,null,k(w(p),(t,l)=>(o(),a("div",{class:"candidate-table",key:l+":_"+d.value,onClick:u=>V(t),style:L({background:t===w(i)?"orange":"none"})},[(o(),a("div",{class:"candidate-name",key:l},m(t.name+":"),1)),c("div",Z,m(t.score),1)],12,Y))),128))])],64))}}),oe=W(ee,[["__scopeId","data-v-18197ee8"]]);export{oe as default};
