import{u as G}from"./main-CtrqG4HJ.js";import{d as O,b as f,f as z,g as I,c as a,a as c,h as N,t as m,F as g,e as y,u as k,n as L,i as T,o,_ as K}from"./index-n_5LrSDX.js";const U={key:0,class:"winner-msg-wrapper"},W={class:"game-board-holder"},j={class:"category-table-wrapper"},q=["onClick"],A={class:"candidate-holder"},H=["onClick"],J={class:"candidate-points"},Q=O({__name:"StartedLobbyView",setup(R){const v=G(),_=v.getCreatedCandidateList(),D=f(0),b=f(0),w=v.getExtractedMaxPoints()||5,C=v.getExtractedGameCategories(),E=f(0),P=[100,200,300,400,500],p=f(""),S=f(!1);let i=null,l=null,s=null,h=!1;const d=f(0);function B(){D.value=_?.length||0,b.value=C?.length||0,E.value=w*b.value}z(()=>{B(),document.addEventListener("keydown",x)}),I(()=>{document.removeEventListener("keydown",x)});function x(e){e.code==="Enter"?$():e.code==="Space"&&h&&s&&i?i.score+=s:e.code==="Backspace"&&h&&s&&i&&(i.score-=s)}function M(e,t){e.finisheds&&e.finisheds.includes(t)||(l=e,s=t,d.value=Date.now())}function V(e){i=e,d.value=Date.now()}function $(){if(!(!i||!l||!s)){if(h){if(p.value="",C?.filter(t=>t.finisheds?.length===w)?.length===b.value){const t=_?.reduce((n,r)=>n.score>r.score?n:r);p.value=`Gewonnen hat ${t?.name} mit ${t?.score} Punkten!`,S.value=!0}h=!1,s=null,l=null,i=null,d.value=Date.now();return}l.finisheds=l.finisheds||[],l.finisheds.push(s),h=!0,d.value=Date.now()}}function F(e,t){return!l||!s?!1:l===e&&s===t}return(e,t)=>(o(),a(g,null,[t[0]||(t[0]=c("div",{class:"creation-headliner"},[c("h1",{class:"creation-headline"},"Ich hab's richtig, aber ich hab's falsch"),c("hr",{class:"rounded-creation-underliner"})],-1)),S.value?(o(),a("div",U,[c("p",null,m(p.value),1)])):N("",!0),c("div",W,[(o(!0),a(g,null,y(k(C),(n,r)=>(o(),a("div",j,[(o(),a("article",{class:"category-table",key:r},m(n.name),1)),(o(),a(g,null,y(P,u=>c("article",{class:T(["point-table",{selected:F(n,u)}]),key:r+"-"+u+d.value,onClick:X=>M(n,u),style:L({opacity:n.finisheds&&n.finisheds.includes(u)?.5:1})},m(u),15,q)),64))]))),256))]),c("div",A,[(o(!0),a(g,null,y(k(_),(n,r)=>(o(),a("div",{class:"candidate-table",key:r+":_"+d.value,onClick:u=>V(n),style:L({background:n===k(i)?"orange":"none"})},[(o(),a("div",{class:"candidate-name",key:r},m(n.name+":"),1)),c("div",J,m(n.score),1)],12,H))),128))])],64))}}),ee=K(Q,[["__scopeId","data-v-8f73ff1b"]]);export{ee as default};
